runtime: python38  # Make sure to use a supported runtime version
service: model
instance_class: F4_1G

entrypoint: gunicorn -b :$PORT main:app  # Adjust this line based on your Flask app's structure

automatic_scaling:
  target_cpu_utilization: 0.65
  min_instances: 1
  max_instances: 10

network: 
  instance_tag: allow-https

handlers:
- url: /.*
  script: auto
  secure: always  # This line ensures that the app is always served over HTTPS